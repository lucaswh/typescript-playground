{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.ts","webpack:///./node_modules/lodash.debounce/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/run-console.html","webpack:///./src/run-plain.html"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","tsEditor","jsEditor","htmlEditor","lessEditor","runWindow","defaultOptions","debounce","runWindowHtmlConsole","runWindowHtmlPlain","runWindowCodeConsole","prepareWindowCode","runWindowCodePlain","_tsVersion","document","getElementById","_editorJs","_editorTs","_editorHtml","_editorLess","_runCode","_runText","_loading","_processing","_shareableUrl","_optionsToggle","_options","_optionsList","Array","slice","getElementsByClassName","map","v","firstElementChild","excludeOptionsFromSharing","init","editor","innerText","backup","hash","localStorage","getItem","decode","getLocalStorage","useBackup","compilerOptions","noImplicitAny","strictNullChecks","strictFunctionTypes","strictPropertyInitialization","noImplicitReturns","noImplicitThis","removeComments","experimentalDecorators","emitDecoratorMetadata","allowNonTsExtensions","target","monaco","languages","typescript","ScriptTarget","ES5","windowOptions","console","uiOptions","autoUpdateUrl","localStorageBackup","window","tsp","options","compile","onCodeChange","emit","run","runCode","share","getShareableUrl","reset","resetLocalStorage","sync","syncOptions","setCompilerOption","tsDefaultValue","join","htmlDefaultValue","lessDefaultValue","setOptions","opt","updateCompilerOptions","language","theme","automaticLayout","minimap","enabled","selectionClipboard","readOnly","quickSuggestions","parameterHints","autoClosingBrackets","suggestOnTriggerCharacters","snippetSuggestions","wordBasedSuggestions","onDidChangeModelContent","onclick","toggleOptions","initOptions","onkeydown","keyBindings","updateHash","updateLocalStorage","interval","reduce","style","opacity","fadeEffect","setInterval","parseFloat","clearInterval","display","fadeOut","ev","ctrlKey","which","metaKey","preventDefault","inputs","length","input","option","classList","item","HTMLInputElement","type","checked","HTMLSelectElement","onchange","onOptionChange","this","updateShareableUrl","event","getTypeScriptWorker","then","worker","getModel","uri","service","getEmitOutput","toString","hideProcessingIndicator","result","emitSkipped","outputFiles","text","setValue","updateJsEditor","updated","win","closed","open","onunload","location","href","setTimeout","write","getValue","html","log","replace","getWindowCode","close","windowUnloaded","initial","encode","exclude","getHashValue","setItem","reload","confirm","removeItem","split","btoa","encodeURIComponent","JSON","stringify","parse","decodeURIComponent","atob","_i","excludeOptionsFromSharing_1","getOptions","typescriptDefaults","setCompilerOptions","RegExp","opts","base","k","toggle","require","config","paths","vs","MonacoEnvironment","getWorkerUrl","workerId","label","bootstrap","global","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","freeSelf","self","root","Function","objectToString","nativeMax","Math","max","nativeMin","min","now","Date","isObject","toNumber","isObjectLike","isSymbol","other","valueOf","isBinary","test","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","remainingWait","debounced","isInvoking","arguments","leadingEdge","cancel","clearTimeout","flush","g","e"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import * as ts from 'typescript';\r\nimport debounce = require('lodash.debounce');\r\nimport runWindowHtmlConsole = require('./run-console.html');\r\nimport runWindowHtmlPlain = require('./run-plain.html');\r\n\r\ndeclare global {\r\n    interface Window {\r\n      tsp: {\r\n        options?: Options;\r\n        compile?: typeof onCodeChange;\r\n        emit?: typeof onCodeChange;\r\n        run?: typeof runCode;\r\n        share?: typeof getShareableUrl;\r\n        reset?: typeof resetLocalStorage;\r\n        sync?: typeof syncOptions;\r\n        setCompilerOption?: typeof setCompilerOption;\r\n      }\r\n    }\r\n}\r\n\r\ninterface Options {\r\n  compilerOptions?: monaco.languages.typescript.CompilerOptions;\r\n  windowOptions?: WindowOptions;\r\n  uiOptions?: UIOptions;\r\n}\r\n\r\ninterface UIOptions {\r\n  autoUpdateUrl?: boolean;\r\n  localStorageBackup?: boolean;\r\n}\r\n\r\ninterface WindowOptions {\r\n  console?: boolean\r\n}\r\n\r\ninterface HashValue {\r\n  editor?: string;\r\n  options?: Options;\r\n}\r\n\r\nlet tsEditor: monaco.editor.IStandaloneCodeEditor;\r\nlet jsEditor: monaco.editor.IStandaloneCodeEditor;\r\nlet htmlEditor: monaco.editor.IStandaloneCodeEditor;\r\nlet lessEditor: monaco.editor.IStandaloneCodeEditor;\r\nlet runWindow: Window;\r\n\r\nconst runWindowCodeConsole = prepareWindowCode(runWindowHtmlConsole);\r\nconst runWindowCodePlain = prepareWindowCode(runWindowHtmlPlain);\r\n\r\nconst _tsVersion = document.getElementById('ts-version');\r\nconst _editorJs = document.getElementById('editor-js');\r\nconst _editorTs = document.getElementById('editor-ts');\r\nconst _editorHtml = document.getElementById('editor-html');\r\nconst _editorLess = document.getElementById('editor-less');\r\nconst _runCode = document.getElementById('run-code');\r\nconst _runText = document.getElementById('run-text')\r\nconst _loading = document.getElementById('loading');\r\nconst _processing = document.getElementById('processing');\r\nconst _shareableUrl = document.getElementById('shareable-url');\r\nconst _optionsToggle = document.getElementById('options-toggle');\r\nconst _options = document.getElementById('options');\r\nconst _optionsList = (Array.prototype.slice.call(_options.getElementsByClassName('option'))).map((v: Element) => {\r\n  return v.firstElementChild as HTMLInputElement | HTMLSelectElement;\r\n});\r\n\r\nlet defaultOptions: Options;\r\nlet excludeOptionsFromSharing = ['uiOptions'];\r\n\r\nwindow.tsp = {\r\n  options: {}\r\n};\r\n\r\nfunction setDefaultOptions(): void {\r\n  defaultOptions = {\r\n    compilerOptions: {\r\n      noImplicitAny: false,\r\n      strictNullChecks: false,\r\n      strictFunctionTypes: false,\r\n      strictPropertyInitialization: false,\r\n      noImplicitReturns: false,\r\n      noImplicitThis: false,\r\n      removeComments: false,\r\n      experimentalDecorators: false,\r\n      emitDecoratorMetadata: false,\r\n      allowNonTsExtensions: true,\r\n      target: monaco.languages.typescript.ScriptTarget.ES5\r\n    },\r\n    windowOptions: {\r\n      console: true\r\n    },\r\n    uiOptions: {\r\n      autoUpdateUrl: false,\r\n      localStorageBackup: true\r\n    }\r\n  };\r\n}\r\n\r\nfunction bootstrap(): void {\r\n  (document.getElementById('base') as HTMLBaseElement).href = getBaseHref();\r\n\r\n  const win = window as any;\r\n  win.require.config({ paths: { vs: '/* @echo MONACO_LOCATION */' } });\r\n\r\n  win.MonacoEnvironment = {\r\n    getWorkerUrl: (workerId, label) => {\r\n      return 'proxy.js';\r\n    }\r\n  };\r\n\r\n  win.require(['/* @echo MONACO_ENTRY */'], init);\r\n}\r\n\r\nfunction init(editor: any): void {\r\n  _tsVersion.innerText = '/* @echo TYPESCRIPT_VERSION */';\r\n  // const hashValue = getHash(); // TODO CHECKX uncomment?\r\n  const backup = getLocalStorage();\r\n  let useBackup = false;\r\n\r\n  setDefaultOptions();\r\n  expose();\r\n\r\n  // TODO CHECKX: pull in .ts code from a file\r\n  let tsDefaultValue = [\r\n    \"interface Person {\",\r\n    \"    firstName: string;\",\r\n    \"    lastName:  string;\",\r\n    \"}\",\r\n    \"\",\r\n    \"function greeter(person: Person) {\",\r\n    \"    return \\\"Hello, \\\" + person.firstName + \\\" \\\" + person.lastName;\",\r\n    \"}\",\r\n    \"\",\r\n    \"let user = {\",\r\n    \"    firstName: \\\"Malcolm\\\",\",\r\n    \"    lastName:  \\\"Reynolds\\\"\",\r\n    \"};\",\r\n    \"\",\r\n    \"document.querySelector(\\\"#app\\\").innerHTML = greeter(user);\",\r\n    ''\r\n  ].join('\\n');\r\n\r\n  // TODO CHECKX: pull in .html code from a file\r\n  let htmlDefaultValue = [\r\n    '<div id=\"app\"></div>',\r\n    ''\r\n  ].join('\\n');\r\n\r\n  // TODO CHECKX: pull in .less code from a file\r\n  let lessDefaultValue = [\r\n    'body {',\r\n    '    background: #20262E;',\r\n    '    font-family: Helvetica;',\r\n    '    padding: 20px;',\r\n    '}',\r\n    '#app {',\r\n    '    background: #ff00ff;',\r\n    '    border-radius: 4px;',\r\n    '    padding: 20px;',\r\n    '    text-align: center;',\r\n    '    transition: all 0.2s;',\r\n    '}',\r\n    ''\r\n  ].join('\\n');\r\n\r\n  if (!backup || !backup.options || !backup.options.uiOptions) {\r\n    useBackup = true;\r\n  } else if (backup.options.uiOptions.localStorageBackup) {\r\n    useBackup = true;\r\n  }\r\n\r\n  setOptions({ uiOptions: { localStorageBackup: useBackup } });\r\n\r\n  if (useBackup && backup && backup.options) {\r\n    for (let opt in excludeOptionsFromSharing) {\r\n      if (backup.options.hasOwnProperty(opt)) {\r\n        const o = {};\r\n        o[opt] = backup.options[opt];\r\n        setOptions(o);\r\n      }\r\n    }\r\n  }\r\n\r\n  // TODO CHECKX uncomment?\r\n  // // if (hashValue && !!hashValue.editor) {\r\n  // //   tsDefaultValue = hashValue.editor;\r\n  // // } else if (useBackup && backup && !!backup.editor) {\r\n  // //   tsDefaultValue = backup.editor;\r\n  // // }\r\n\r\n  // TODO CHECKX uncomment?\r\n  // // if (hashValue && hashValue.options) {\r\n  // //   setOptions(hashValue.options);\r\n  // // } else if (useBackup && backup && backup.options) {\r\n  // //   setOptions(backup.options);\r\n  // // }\r\n\r\n  updateCompilerOptions();\r\n\r\n  tsEditor = monaco.editor.create(_editorTs, {\r\n    value: tsDefaultValue,\r\n    language: 'typescript',\r\n    theme: 'vs-light',\r\n    automaticLayout: true,\r\n    minimap: {\r\n      enabled: false\r\n    },\r\n    selectionClipboard: false\r\n  });\r\n\r\n  jsEditor = monaco.editor.create(_editorJs, {\r\n    value: [\r\n      '',\r\n      ''\r\n    ].join('\\n'),\r\n    language: 'javascript',\r\n    theme: 'hc-black',\r\n    readOnly: true,\r\n    automaticLayout: true,\r\n    minimap: {\r\n      enabled: false\r\n    },\r\n    // contextmenu: false,\r\n    quickSuggestions: false,\r\n    parameterHints: false,\r\n    autoClosingBrackets: false,\r\n    suggestOnTriggerCharacters: false,\r\n    snippetSuggestions: 'none',\r\n    wordBasedSuggestions: false,\r\n    // selectionClipboard: false,\r\n    // find: {\r\n    //   seedSearchStringFromSelection: false,\r\n    //   autoFindInSelection: false\r\n    // }\r\n  });\r\n\r\n  htmlEditor = monaco.editor.create(_editorHtml, {\r\n    value: htmlDefaultValue,\r\n    language: 'html',\r\n    theme: 'vs-light',\r\n    automaticLayout: true,\r\n    minimap: {\r\n      enabled: false\r\n    },\r\n    selectionClipboard: false\r\n  });\r\n\r\n  lessEditor = monaco.editor.create(_editorLess, {\r\n    value: lessDefaultValue,\r\n    language: 'less',\r\n    theme: 'vs-light',\r\n    automaticLayout: true,\r\n    minimap: {\r\n      enabled: false\r\n    },\r\n    selectionClipboard: false\r\n  });\r\n\r\n  ready();\r\n}\r\n\r\nfunction ready(): void {\r\n  tsEditor.onDidChangeModelContent(debounce(onCodeChange, 100));\r\n  _optionsToggle.onclick = toggleOptions;\r\n  _runCode.onclick = runCode;\r\n  initOptions();\r\n  window.onkeydown = keyBindings;\r\n  onCodeChange();\r\n  updateHash(true);\r\n  updateLocalStorage(true)\r\n  fadeOut(_loading);\r\n}\r\n\r\nfunction expose() {\r\n  window.tsp.options = defaultOptions;\r\n  window.tsp.compile = onCodeChange;\r\n  window.tsp.emit = onCodeChange;\r\n  window.tsp.run = runCode;\r\n  window.tsp.share = getShareableUrl;\r\n  window.tsp.reset = resetLocalStorage;\r\n  window.tsp.sync = syncOptions;\r\n  window.tsp.setCompilerOption = setCompilerOption;\r\n}\r\n\r\nfunction setCompilerOption(name: string, value: any): void {\r\n  window.tsp.options.compilerOptions[name] = value;\r\n  initOptions();\r\n  updateCompilerOptions();\r\n  onCodeChange();\r\n}\r\n\r\nfunction syncOptions(): void {\r\n  initOptions();\r\n  updateCompilerOptions();\r\n}\r\n\r\nfunction keyBindings(this: Window, ev: KeyboardEvent) {\r\n  if (ev.ctrlKey && ev.which === 82 /* r */) {\r\n    runCode();\r\n  }\r\n\r\n  if ((ev.ctrlKey || ev.metaKey) && ev.which === 83 /* s */) {\r\n    ev.preventDefault();\r\n  }\r\n}\r\n\r\nfunction initOptions() {\r\n  const inputs = _optionsList;\r\n\r\n  for (let i = 0; i < inputs.length; i++) {\r\n    let input = inputs[i];\r\n    let option = input.classList.item(0);\r\n\r\n    if (options()[option].hasOwnProperty(input.name)) {\r\n      if (input instanceof HTMLInputElement) {\r\n        if ((input as HTMLInputElement).type === 'checkbox') {\r\n          (input as HTMLInputElement).checked = !!defaultOptions[option][input.name];\r\n        } else if ((inputs[i] as HTMLInputElement).type === 'text') {\r\n          (input as HTMLInputElement).value = `${defaultOptions[option][input.name]}`;\r\n        }\r\n      } else if (input instanceof HTMLSelectElement) {\r\n        (input as HTMLSelectElement).value = `${defaultOptions[option][input.name]}`;\r\n      }\r\n    }\r\n\r\n    input.onchange = onOptionChange;\r\n  }\r\n}\r\n\r\nfunction onOptionChange(this: HTMLInputElement | HTMLSelectElement, ev: Event): any {\r\n  let option = this.classList.item(0);\r\n\r\n  let value = options()[option][this.name];\r\n\r\n  if (this instanceof HTMLInputElement) {\r\n    if ((this as HTMLInputElement).type === 'checkbox') {\r\n      value = !!(this as HTMLInputElement).checked;\r\n    } else if ((this as HTMLInputElement).type === 'text') {\r\n      value = (this as HTMLInputElement).value;\r\n    }\r\n  } else if (this instanceof HTMLSelectElement) {\r\n    value = (this as HTMLSelectElement).value;\r\n  } else {\r\n    value = (this as any).value || void 0;\r\n  }\r\n\r\n  options()[option][this.name] = value;\r\n\r\n  updateCompilerOptions();\r\n  onCodeChange();\r\n  updateHash();\r\n  updateLocalStorage();\r\n  updateShareableUrl();\r\n}\r\n\r\nfunction onCodeChange(event?: monaco.editor.IModelContentChangedEvent): void {\r\n  if (event !== void 0) {\r\n    updateHash();\r\n    updateLocalStorage();\r\n  }\r\n\r\n  showProcessingIndicator();\r\n\r\n  getService()\r\n    .then(service => {\r\n      return service.getEmitOutput(tsEditor.getModel().uri.toString())\r\n    }, hideProcessingIndicator)\r\n    .then((result: ts.EmitOutput) => {\r\n      if (result.emitSkipped) {\r\n        return false;\r\n      }\r\n\r\n      if (!result.outputFiles || !result.outputFiles[0]) {\r\n        return false;\r\n      }\r\n\r\n      return result.outputFiles[0].text;\r\n    }, hideProcessingIndicator)\r\n    .then(text => {\r\n      if (typeof text === 'string') {\r\n        updateJsEditor(text);\r\n      }\r\n\r\n      return !!text;\r\n    }, hideProcessingIndicator)\r\n    .then(updated => {\r\n      hideProcessingIndicator();\r\n    }, hideProcessingIndicator)\r\n}\r\n\r\nfunction runCode(): void {\r\n  let win: Window;\r\n\r\n  if (!runWindow || runWindow.closed) {\r\n    windowOpened();\r\n    win = window.open('about:blank', '', 'width=800,height=600');\r\n    runWindow = win;\r\n  } else {\r\n    win = runWindow;\r\n    windowRefreshed();\r\n  }\r\n\r\n  win.onunload = null;\r\n  win.location.href = 'about:blank'\r\n\r\n  setTimeout(() => {\r\n    win.document.open()\r\n    win.document.write(htmlEditor.getValue());\r\n    win.document.write(getWindowCode());\r\n    win.document.close();\r\n    win.onunload = windowUnloaded;\r\n  }, 50);\r\n}\r\n\r\nfunction windowOpened() {\r\n  _runText.innerText = 'Run in window';\r\n}\r\n\r\nfunction windowRefreshed() {\r\n  _runText.innerText = 'Run in window';\r\n}\r\n\r\nfunction windowUnloaded() {\r\n  _runText.innerText = 'Run in new window';\r\n}\r\n\r\nfunction updateHash(initial?: boolean): void {\r\n  if (!!window.tsp.options.uiOptions.autoUpdateUrl) {\r\n    if (!initial) {\r\n      window.location.hash = encode(exclude(getHashValue()));\r\n    }\r\n  } else if(!!window.location.hash) {\r\n    window.location.hash = '';\r\n  }\r\n}\r\n\r\nfunction getLocalStorage(): HashValue {\r\n  const hash = localStorage.getItem('tsp');\r\n  if (!hash) return {};\r\n  return decode(hash);\r\n}\r\n\r\nfunction updateLocalStorage(initial?: boolean): void {\r\n  if (!!window.tsp.options.uiOptions.localStorageBackup) {\r\n    localStorage.setItem('tsp', encode(getHashValue()));\r\n  } else {\r\n    localStorage.setItem('tsp', encode({ options: { uiOptions: { localStorageBackup: false } } }));\r\n  }\r\n}\r\n\r\nfunction resetLocalStorage(reload = false, event: Event) {\r\n  if (event) event.preventDefault();\r\n  const confirmation = confirm('Are you sure? All your changes will be lost.');\r\n  if (!confirmation) return;\r\n  localStorage.removeItem('tsp');\r\n  if (reload) window.location.href = window.location.href.split('#')[0];\r\n}\r\n\r\nfunction updateShareableUrl(): void {\r\n  (_shareableUrl as HTMLInputElement).value = getShareableUrl();\r\n}\r\n\r\nfunction getShareableUrl(): string {\r\n  return window.location.href\r\n    .replace(window.location.hash, '')\r\n    .replace('#', '') +\r\n    `#${encode(exclude(getHashValue()))}`;\r\n}\r\n\r\nfunction encode(value): string {\r\n  return btoa(encodeURIComponent(JSON.stringify(value)));\r\n}\r\n\r\nfunction decode(hash: string): HashValue {\r\n  return JSON.parse(decodeURIComponent(atob(hash)));\r\n}\r\n\r\nfunction exclude(value: HashValue): HashValue {\r\n  value = JSON.parse(JSON.stringify(value));\r\n\r\n  for (let opt of excludeOptionsFromSharing) {\r\n    value.options[opt] = void 0;\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\nfunction getHashValue(exclude = true): HashValue {\r\n  const value = {\r\n    editor: tsEditor.getValue(),\r\n    options: getOptions()\r\n  };\r\n\r\n  return value;\r\n}\r\n\r\nfunction getHash(): HashValue {\r\n  const hash = window.location.hash.substr(1);\r\n  if (!hash) return {};\r\n  return decode(hash);\r\n}\r\n\r\nfunction updateJsEditor(text: string): void {\r\n  jsEditor.getModel().setValue(text);\r\n}\r\n\r\nfunction updateCompilerOptions(): void {\r\n  const options = getOptions();\r\n  options.compilerOptions.allowNonTsExtensions = true;\r\n  monaco.languages.typescript.typescriptDefaults.setCompilerOptions(options.compilerOptions);\r\n}\r\n\r\nfunction prepareWindowCode(html: string): string {\r\n  return html\r\n    .replace(new RegExp(/__BASE__/), window.location.href.split('#')[0].replace(/\\/?$/, '/'))\r\n    .replace(new RegExp(/__VERSION__/g), '/* @echo VERSION */');\r\n}\r\n\r\nfunction getWindowCode(html?: string): string {\r\n  console.log(\"HTML\\n\" + document.getElementById('injectedHtmlCode'));\r\n  console.log('less' + lessEditor.getValue()); // CHECKX TODO integrate LESS\r\n  html = html !== void 0\r\n   ? html : (options().windowOptions.console ? runWindowCodeConsole : runWindowCodePlain);\r\n  return html.replace(/__CODE__/, jsEditor.getValue())\r\n}\r\n\r\nfunction setOptions(opts: { [index: string]: any }, base = options()) {\r\n  for (let k in opts) {\r\n    if (opts[k] !== null && typeof opts[k] === 'object') {\r\n      setOptions(opts[k], base[k]);\r\n    } else {\r\n      base[k] = opts[k];\r\n    }\r\n  }\r\n}\r\n\r\nfunction options(): Options {\r\n  return window.tsp.options;\r\n}\r\n\r\nfunction getOptions(): Options {\r\n  return JSON.parse(JSON.stringify(options()));\r\n}\r\n\r\nfunction getBaseHref(): string {\r\n  return window.location.href.split('#')[0].replace(/\\/?$/, '/');\r\n}\r\n\r\nfunction getService(): monaco.Promise<any> {\r\n  return monaco.languages.typescript.getTypeScriptWorker()\r\n    .then(worker => worker(tsEditor.getModel().uri))\r\n}\r\n\r\nfunction toggleOptions(this: HTMLElement, ev: Event): void {\r\n  const show = this.classList.toggle('active');\r\n\r\n  if (show) {\r\n    updateShareableUrl();\r\n  }\r\n\r\n  _options.classList.toggle('visible');\r\n}\r\n\r\nfunction showProcessingIndicator(): void {\r\n  _processing.style.display = 'inline-block';\r\n}\r\n\r\nfunction hideProcessingIndicator(): void {\r\n  _processing.style.display = 'none';\r\n}\r\n\r\nfunction fadeOut(target: HTMLElement, interval = 5, reduce = 0.01): void {\r\n  target.style.opacity = '1';\r\n\r\n  const fadeEffect = setInterval(() => {\r\n    if (parseFloat(target.style.opacity) < 0.05) {\r\n      clearInterval(fadeEffect);\r\n      target.style.opacity = '0';\r\n      target.style.display = 'none';\r\n    } else {\r\n      target.style.opacity = `${parseFloat(target.style.opacity) - reduce}`;\r\n    }\r\n  }, interval);\r\n}\r\n\r\nbootstrap();\r\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = \"<!doctype html>\\r\\n<html lang=\\\"en\\\">\\r\\n\\r\\n<head>\\r\\n  <base id=\\\"base\\\" href=\\\"__BASE__\\\">\\r\\n  <meta charset=\\\"utf8\\\">\\r\\n  <title>TypeScript Playground (run code)</title>\\r\\n  <link rel=\\\"icon\\\" href=\\\"assets/favicon.ico\\\">\\r\\n  <link rel=\\\"stylesheet\\\" href=\\\"style.css?__VERSION__\\\">\\r\\n  <script>\\r\\n    window.tsp = window.tsp || {}\\r\\n  </script>\\r\\n</head>\\r\\n\\r\\n<body id=\\\"run-window\\\">\\r\\n  <div id=\\\"console\\\" class=\\\"grid grid-pad\\\">\\r\\n    <div class=\\\"col-1-1\\\">\\r\\n      <div id=\\\"console-heading\\\">\\r\\n        Console Output:\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-1-1\\\">\\r\\n      <div class=\\\"console\\\" id=\\\"console-content\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div id=\\\"loading-window\\\">\\r\\n    <div class=\\\"spinner\\\">\\r\\n      <div class=\\\"double-bounce1\\\"></div>\\r\\n      <div class=\\\"double-bounce2\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <script src=\\\"run.js?__VERSION__\\\"></script>\\r\\n  <script id=\\\"injectedJsCode\\\">\\r\\n    (function() {\\r\\n      __CODE__\\r\\n    })();\\r\\n  </script>\\r\\n  <script>\\r\\n    tsp.fadeOut(document.getElementById('loading-window'));\\r\\n  </script>\\r\\n</body>\\r\\n\\r\\n</html>\\r\\n\"","module.exports = \"<!doctype html>\\r\\n<html lang=\\\"en\\\">\\r\\n\\r\\n<head>\\r\\n  <meta charset=\\\"utf8\\\">\\r\\n  <title>TypeScript Playground (run code)</title>\\r\\n  <link rel=\\\"icon\\\" href=\\\"__BASE__/assets/favicon.ico\\\">\\r\\n</head>\\r\\n\\r\\n<body>\\r\\n  <script>\\r\\n    __CODE__\\r\\n  </script>\\r\\n</body>\\r\\n\\r\\n</html>\\r\\n\""],"sourceRoot":""}